void vitri_dau_san_do()
{
	RESET_ENCODER(1);
	RESET_ENCODER(2);
	xilanh_ket_tryball;
	xilanh_xoay_tryball;
	vTaskDelay(2);
	while(1){
	chan_da_kich_ball_lui;
	chan_da_kich_ball=250;
	vTaskDelay(2);
	if(!cb_dung_chan_da||!X) break; }
	while(1){
			chan_da_kich_ball=0;
			vTaskDelay(2);
			break;
		}		
	kep_de();
	vTaskDelay(2);
}
void dap_tryball_san_do()
{
	vs32 dem;
	while(dap_try_san_do)
	{
	xilanh_xoay_tryball_do;
	vTaskDelay(5000);
	for(i=0;i<2;i++)
	{
	xilanh_nha_tryball_do;
	vTaskDelay(2000);
	xilanh_ket_tryball_do;
	vTaskDelay(2000);
	}
	dap_try_san_do=0;
	vTaskDelay(1);
	}
}
//
void truyen_tryball_san_do()
{
		
		xilanh_truyen;
		RESET_ENCODER(1);
		RESET_ENCODER(2);
		vTaskDelay(5000);
		xilanh_duoi_tryball_do;
}
//TRY 1
void lay_tryball_san_do()
{
		xilanh_ket_tryball_do;
	  vTaskDelay(3000);
		xilanh_nang_tryball; 
		vTaskDelay(2000);
		xilanh_truyen_ve;
		vTaskDelay(2000);
}
//
void lay_tryball_5_san_do()
{
		xilanh_ket_tryball_do;
	  vTaskDelay(1000);
		RESET_ENCODER(1);
		RESET_ENCODER(2);
		xilanh_nang_tryball; 
		vTaskDelay(2000);
}
//TRY 1
//-------------------------lay try1---------------
void lay_try_1_do()
{
			while(abs(READ_ENCODER(2))<13400) //gia tri thuc te 15054
		{
			if(!cb_tryball_do) chong_nhieu++;
			else chong_nhieu=0;
			if(chong_nhieu>10||!X) break;
			MAIN_CONTROL(0,-1000,80,0.1,0);
			vTaskDelay(1);
		}
		MAIN_CONTROL(0,-1300,20,0.1,0);
		vTaskDelay(2000);//delay duoc 100 xung
		MAIN_CONTROL(0,-1000,0,0.1,0);
		while(TAM_GIAC){vTaskDelay(1);}
		vTaskDelay(2000);
		RESET_ENCODER(1);
		RESET_ENCODER(2);
		//LAY TRY O VI TRI 1
		lay_tryball_san_do();
		while(abs(READ_ENCODER(2))<3000) //gia tri thuc te 15054
		{
			dap_try_san_do=1;
			if(!cb_trai) chong_nhieu++;
			else chong_nhieu=0;
			if(chong_nhieu>10||!X) break;
			MAIN_CONTROL(0,1000,80,0.1,0);
			vTaskDelay(1);
		}
		while(abs(READ_ENCODER(2))<13400) //gia tri thuc te 15054
		{
			if(!cb_trai) chong_nhieu++;
			else chong_nhieu=0;
			if(chong_nhieu>10||!X) break;
			MAIN_CONTROL(0,1000,80,0.1,0);
			vTaskDelay(1);
		}
		MAIN_CONTROL(0,1800,20,0.1,0);
		vTaskDelay(2000);//delay duoc 100 xung
		MAIN_CONTROL(0,1800,0,0.1,0);
		vTaskDelay(2000);
		while(abs(READ_ENCODER(1))<3000) //gia tri thuc te 15054
		{
			if(!X) break;
			MAIN_CONTROL(0,0,40,0.1,0);
			vTaskDelay(1);
		}
		MAIN_CONTROL(0,900,0,0.1,0);
		vTaskDelay(5000);
		xilanh_nha_tryball_do;
		while(TAM_GIAC){vTaskDelay(1);}
		xilanh_ha_tryball;
		vTaskDelay(2000);
		RESET_ENCODER(2);
		RESET_ENCODER(1);
		truyen_tryball_san_do();
		//TRUYEN TRY 2---- lay kick 1-------------
		while(abs(READ_ENCODER(1))<3000) //gia tri thuc te 15054
		{
			if(!cb_sau) chong_nhieu++;
			else chong_nhieu=0;
			if(chong_nhieu>10||!X) break;
			MAIN_CONTROL(0,1800,40,0.1,0);
			vTaskDelay(1);
		}
		MAIN_CONTROL(0,1800,20,0.1,0);
		vTaskDelay(10000);//delay duoc 100 xung
		MAIN_CONTROL(0,1800,0,0.1,0);
		vTaskDelay(2000);
		vTaskDelay(2000);
		RESET_ENCODER(2);
		RESET_ENCODER(1);
		while(TAM_GIAC){vTaskDelay(1);}
	}
void lay_try_2_da_kick_1_do()
{
		while(abs(READ_ENCODER(2))<13200) //gia tri thuc te 15054
		{
			if(!cb_tryball_do) chong_nhieu++;
			else chong_nhieu=0;
			if(chong_nhieu>10||!X) break;
			MAIN_CONTROL(0,-820,80,0.1,0);
			vTaskDelay(1);
		}
		MAIN_CONTROL(0,-900,0,0.1,0);
		while(TAM_GIAC){vTaskDelay(1);}
		vTaskDelay(2000);
		RESET_ENCODER(1);
		RESET_ENCODER(2);
		//LAY TRY O VI TRI 2
		lay_tryball_san_do();
		while(abs(READ_ENCODER(2))<3000) //gia tri thuc te 15054
		{
			dap_try_san_do=1;
			if(!cb_trai) chong_nhieu++;
			else chong_nhieu=0;
			if(chong_nhieu>10||!X) break;
			MAIN_CONTROL(0,1015,80,0.1,0);
			vTaskDelay(1);
		}
		while(abs(READ_ENCODER(2))<13300) //gia tri thuc te 15054
		{
			if(!cb_trai) chong_nhieu++;
			else chong_nhieu=0;
			if(chong_nhieu>10||!X) break;
			MAIN_CONTROL(0,1015,80,0.1,0);
			vTaskDelay(1);
		}
		MAIN_CONTROL(0,1800,0,0.1,0);
		vTaskDelay(2000);
		RESET_ENCODER(1);
		RESET_ENCODER(2);
		while(abs(READ_ENCODER(1))<3000) //gia tri thuc te 15054
		{
			if(!X) break;
			MAIN_CONTROL(0,10,40,0.1,0);
			vTaskDelay(1);
		}
		MAIN_CONTROL(0,900,10,0.1,0);
		vTaskDelay(5000);
		xilanh_nha_tryball_do;
		while(TAM_GIAC){vTaskDelay(1);}
		xilanh_ha_tryball;
		vTaskDelay(2000);
		RESET_ENCODER(2);
		RESET_ENCODER(1);
		truyen_tryball_san_do();
		//TRUYEN TRY 2---- lay kick 1-------------
		while(abs(READ_ENCODER(1))<4000) //gia tri thuc te 15054
		{
			if(!cb_sau) chong_nhieu++;
			else chong_nhieu=0;
			if(chong_nhieu>10||!X) break;
			MAIN_CONTROL(0,1800,40,0.1,0);
			vTaskDelay(1);
		}
		MAIN_CONTROL(0,1800,20,0.1,0);
		vTaskDelay(10000);//delay duoc 100 xung
		MAIN_CONTROL(0,1800,0,0.1,0);
		vTaskDelay(2000);
		vTaskDelay(2000);
		RESET_ENCODER(2);
		RESET_ENCODER(1);
		lay_kickball();
		//lay kick 1-------------
		while(TAM_GIAC){vTaskDelay(1);}
		while(abs(READ_ENCODER(1))<2000) //gia tri thuc te 3750
		{
			if(!X) break;
			MAIN_CONTROL(0,-450,80,0.1,0);
			vTaskDelay(1);
		}
		reset_ecoder2=1;
      //-----------chay xiem 54 do-------------
		while(abs(READ_ENCODER(1))<39300) //gia tri thuc te 41000 e2 2900
		{
			if((adc_tb1>430)&&(adc_tb1<450)) break;
			if(!X) break;
			MAIN_CONTROL(0,0,80,0.1,0);
			vTaskDelay(1);
		}
		//chay toi 
		reset_ecoder1=1;
		while(abs(READ_ENCODER(2))<21200) //gia tri thuc te 24800
		{
			if(!X) break;
			MAIN_CONTROL(0,900,80,0.1,0);
			vTaskDelay(1);
		}
		//chay qua vung kick zone
		while(abs(READ_ENCODER(1))<23200) //gia tri thuc te 24800
		{
			if((adc_tb1<170)&&(adc_tb1<150)) break;// LAZE CHUA DC
			if(!X) break;
			MAIN_CONTROL(0,1800,80,0.1,0);
			vTaskDelay(1);
		}
		MAIN_CONTROL(0,1800,0,0.1,0);
		MAIN_CONTROL(0,0,0,0.1,0);
		//-----------chay lui cho ve khi thay cot 2-------------
		while(IMU>-210) //gia tri thuc te -240
		{
			if(!X) break;
			MAIN_CONTROL(0,-40000,60,0.1,0);
			vTaskDelay(1);
		}		
		MAIN_CONTROL(0,0,0,0.1,0);
		// XOAY DA		
		chan_da_kickball_nghi();
		dat_kickball();
		chu_trinh_da_kickball();
		chan_da_kickball_nghi();
		lay_lai_de();	
		while(IMU<-60) //gia tri thuc te 2
		{
			if(!X) break;
			MAIN_CONTROL(0,40000,60,0.1,0);
			vTaskDelay(1);
		}		
		MAIN_CONTROL(0,0,0,0.1,0);	
		vTaskDelay(2000);
		RESET_ENCODER(1);
		RESET_ENCODER(2);
		// XOAY XOAY VE
		while(abs(READ_ENCODER(1))<21700) //gia tri thuc te 23500
		{
			//CHO GAN CAM BIEN
			if(!X) break;
			MAIN_CONTROL(0,-60,80,0.1,0);
			vTaskDelay(1);
		}
		// CHAY TOI COT 2 RE TRAI
		reset_ecoder1=1;
		while(abs(READ_ENCODER(2))<23200) //gia tri thuc te 24800
		{
			if(!X) break;
			MAIN_CONTROL(0,-900,80,0.1,0);
			vTaskDelay(1);
		}
		//CHAY SANG TRAI VE VUNG LAY TRY
		while(abs(READ_ENCODER(1))<20000) //gia tri thuc te 21500
		{
			if(!X) break;
			MAIN_CONTROL(0,1800,80,0.1,0);
			vTaskDelay(1);
		}
		//chay lui lech huong -1650
		while(abs(READ_ENCODER(1))<39500) //gia tri thuc te 42000
		{
			if(!cb_sau) chong_nhieu++;
			else chong_nhieu=0;
			if(chong_nhieu>10||!X) break;
			MAIN_CONTROL(0,1650,80,0.1,0);
			vTaskDelay(1);
		}
		MAIN_CONTROL(0,1800,20,0.1,0);
		vTaskDelay(10000);
		MAIN_CONTROL(0,0,0,0.1,0);	
		vTaskDelay(1000);
		RESET_ENCODER(1);
		RESET_ENCODER(2);
		//lay kich 2
	}
void lay_try_3_da_kick_2_do()
{
			while(abs(READ_ENCODER(2))<13400) //gia tri thuc te 15054
		{
			if(!cb_tryball_do) chong_nhieu++;
			else chong_nhieu=0;
			if(chong_nhieu>10||!X) break;
			MAIN_CONTROL(0,-700,80,0.1,0);
			vTaskDelay(1);
		}
		//lay try  vi tri 3
		MAIN_CONTROL(0,0,0,0.1,0);
		while(TAM_GIAC){vTaskDelay(1);}
		vTaskDelay(2000);
		RESET_ENCODER(1);
		RESET_ENCODER(2);
		lay_tryball_san_do();
		while(abs(READ_ENCODER(2))<3000) //gia tri thuc te 15054
		{
			dap_try_san_do=1;
			if(!cb_trai) chong_nhieu++;
			else chong_nhieu=0;
			if(chong_nhieu>10||!X) break;
			MAIN_CONTROL(0,1130,80,0.1,0);
			vTaskDelay(1);
		}
		while(abs(READ_ENCODER(2))<13400) //gia tri thuc te 15054
		{
			if(!cb_trai) chong_nhieu++;
			else chong_nhieu=0;
			if(chong_nhieu>10||!X) break;
			MAIN_CONTROL(0,1130,80,0.1,0);
			vTaskDelay(1);
		}
		MAIN_CONTROL(0,1300,20,0.1,0);
		vTaskDelay(2000);//delay duoc 100 xung
		MAIN_CONTROL(0,1300,0,0.1,0);
		vTaskDelay(2000);
		RESET_ENCODER(1);
		RESET_ENCODER(2);
		while(abs(READ_ENCODER(1))<3000) //gia tri thuc te 15054
		{
			if(!X) break;
			MAIN_CONTROL(0,0,40,0.1,0);
			vTaskDelay(1);
		}
		MAIN_CONTROL(0,0,0,0.1,0);
		vTaskDelay(2000);
		xilanh_nha_tryball_do;
		while(TAM_GIAC){vTaskDelay(1);}
		xilanh_ha_tryball;
		vTaskDelay(2000);
		RESET_ENCODER(2);
		RESET_ENCODER(1);
		truyen_tryball_san_do();
		//TRUYEN TRY 2-------------
		while(abs(READ_ENCODER(1))<3000) //gia tri thuc te 15054
		{
			if(!cb_sau) chong_nhieu++;
			else chong_nhieu=0;
			if(chong_nhieu>10||!X) break;
			MAIN_CONTROL(0,1800,40,0.1,0);
			vTaskDelay(1);
		}
		MAIN_CONTROL(0,1800,20,0.1,0);
		vTaskDelay(2000);//delay duoc 100 xung
		MAIN_CONTROL(0,1800,0,0.1,0);
		vTaskDelay(2000);
		vTaskDelay(2000);
		RESET_ENCODER(2);
		RESET_ENCODER(1);
		lay_kickball();
		//lay kick 1-------------
		while(abs(READ_ENCODER(1))<2000) //gia tri thuc te 3750
		{
			if(!X) break;
			MAIN_CONTROL(0,-450,80,0.1,0);
			vTaskDelay(1);
		}
		reset_ecoder2=1;
      //-----------chay xiem 54 do-------------
		while(abs(READ_ENCODER(1))<39300) //gia tri thuc te 41000 e2 2900
		{
			if((adc_tb1>430)&&(adc_tb1<450)) break;
			if(!X) break;
			MAIN_CONTROL(0,0,80,0.1,0);
			vTaskDelay(1);
		}
		//chay toi 
		reset_ecoder1=1;
		while(abs(READ_ENCODER(2))<21200) //gia tri thuc te 24800
		{
			if(!X) break;
			MAIN_CONTROL(0,900,80,0.1,0);
			vTaskDelay(1);
		}
		//chay qua vung kick zone
		while(abs(READ_ENCODER(1))<23200) //gia tri thuc te 24800
		{
			if((adc_tb1<170)&&(adc_tb1<150)) break;// LAZE CHUA DC
			if(!X) break;
			MAIN_CONTROL(0,1800,80,0.1,0);
			vTaskDelay(1);
		}
		MAIN_CONTROL(0,1800,0,0.1,0);
		MAIN_CONTROL(0,0,0,0.1,0);
		//-----------chay lui cho ve khi thay cot 2-------------
		while(IMU>-210) //gia tri thuc te -235 
		{
			if(!X) break;
			MAIN_CONTROL(0,-40000,60,0.1,0);
			vTaskDelay(1);
		}		
		MAIN_CONTROL(0,0,0,0.1,0);
		// XOAY DA		
		chan_da_kickball_nghi();
		dat_kickball();
		chu_trinh_da_kickball();
		chan_da_kickball_nghi();
		lay_lai_de();	
		while(IMU<-60) //gia tri thuc te 2
		{
			if(!X) break;
			MAIN_CONTROL(0,40000,60,0.1,0);
			vTaskDelay(1);
		}		
		MAIN_CONTROL(0,0,0,0.1,0);	
		vTaskDelay(2000);
		RESET_ENCODER(1);
		RESET_ENCODER(2);
		// XOAY XOAY VE
		while(abs(READ_ENCODER(1))<21700) //gia tri thuc te 23500
		{
			//CHO GAN CAM BIEN
			if(!X) break;
			MAIN_CONTROL(0,-60,80,0.1,0);
			vTaskDelay(1);
		}
		// CHAY TOI COT 2 RE TRAI
		reset_ecoder1=1;
		while(abs(READ_ENCODER(2))<23200) //gia tri thuc te 24800
		{
			if(!X) break;
			MAIN_CONTROL(0,-900,80,0.1,0);
			vTaskDelay(1);
		}
		//CHAY SANG TRAI VE VUNG LAY TRY
		while(abs(READ_ENCODER(1))<20000) //gia tri thuc te 21500
		{
			if(!X) break;
			MAIN_CONTROL(0,1800,80,0.1,0);
			vTaskDelay(1);
		}
		//chay lui lech huong -1650
		while(abs(READ_ENCODER(1))<39500) //gia tri thuc te 42000
		{
			if(!cb_sau) chong_nhieu++;
			else chong_nhieu=0;
			if(chong_nhieu>10||!X) break;
			MAIN_CONTROL(0,1650,80,0.1,0);
			vTaskDelay(1);
		}
		MAIN_CONTROL(0,1800,20,0.1,0);
		vTaskDelay(10000);
		MAIN_CONTROL(0,0,0,0.1,0);	
		vTaskDelay(1000);
		RESET_ENCODER(1);
		RESET_ENCODER(2);
		//lay kich 3
	}
void lay_try_4_da_kick_3_do()
{
		while(abs(READ_ENCODER(2))<13700) //gia tri thuc te 15400
		{
			if(!cb_tryball) chong_nhieu++;
			else chong_nhieu=0;
			if(chong_nhieu>10||!X) break;
			MAIN_CONTROL(0,-610,80,0.1,0);
			vTaskDelay(1);
		}
		//lay try  vi tri 4
		MAIN_CONTROL(0,0,0,0.1,0);
		while(TAM_GIAC){vTaskDelay(1);}
		vTaskDelay(2000);
		RESET_ENCODER(1);
		RESET_ENCODER(2);
		lay_tryball_san_do();
		while(abs(READ_ENCODER(2))<3000) //gia tri thuc te 15400
		{
			dap_try_san_do=1;
			if(!cb_trai) chong_nhieu++;
			else chong_nhieu=0;
			if(chong_nhieu>10||!X) break;
			MAIN_CONTROL(0,1215,80,0.1,0);
			vTaskDelay(1);
		}
		while(abs(READ_ENCODER(2))<13000) //gia tri thuc te 15400
		{
			if(!cb_trai) chong_nhieu++;
			else chong_nhieu=0;
			if(chong_nhieu>10||!X) break;
			MAIN_CONTROL(0,1215,80,0.1,0);
			vTaskDelay(1);
		}
		MAIN_CONTROL(0,1300,20,0.1,0);
		vTaskDelay(10000);//delay duoc 100 xung
		MAIN_CONTROL(0,1300,0,0.1,0);
		vTaskDelay(2000);
		RESET_ENCODER(1);
		RESET_ENCODER(2);
		while(abs(READ_ENCODER(1))<3000) //gia tri thuc te 15054
		{
			if(!X) break;
			MAIN_CONTROL(0,0,40,0.1,0);
			vTaskDelay(1);
		}
		MAIN_CONTROL(0,1800,0,0.1,0);
		vTaskDelay(2000);
		xilanh_nha_tryball_do;
		while(TAM_GIAC){vTaskDelay(1);}
		xilanh_ha_tryball;
		vTaskDelay(2000);
		RESET_ENCODER(2);
		RESET_ENCODER(1);
		truyen_tryball_san_do();
		//TRUYEN TRY 2---- lay kick 1-------------
		while(abs(READ_ENCODER(1))<3000) //gia tri thuc te 15054
		{
			if(!cb_sau) chong_nhieu++;
			else chong_nhieu=0;
			if(chong_nhieu>10||!X) break;
			MAIN_CONTROL(0,1800,40,0.1,0);
			vTaskDelay(1);
		}
		MAIN_CONTROL(0,1800,20,0.1,0);
		vTaskDelay(2000);//delay duoc 100 xung
		MAIN_CONTROL(0,1800,0,0.1,0);
		vTaskDelay(2000);
		vTaskDelay(2000);
		RESET_ENCODER(2);
		RESET_ENCODER(1);
		lay_kickball();
		//lay kick 1-------------
			while(abs(READ_ENCODER(1))<2000) //gia tri thuc te 3750
		{
			if(!X) break;
			MAIN_CONTROL(0,-450,80,0.1,0);
			vTaskDelay(1);
		}
		reset_ecoder2=1;
      //-----------chay xiem 54 do-------------
		while(abs(READ_ENCODER(1))<39300) //gia tri thuc te 41000 e2 2900
		{
			if((adc_tb1>430)&&(adc_tb1<450)) break;
			if(!X) break;
			MAIN_CONTROL(0,0,80,0.1,0);
			vTaskDelay(1);
		}
		//chay toi 
		reset_ecoder1=1;
		while(abs(READ_ENCODER(2))<21200) //gia tri thuc te 24800
		{
			if(!X) break;
			MAIN_CONTROL(0,900,80,0.1,0);
			vTaskDelay(1);
		}
		//chay qua vung kick zone
		while(abs(READ_ENCODER(1))<23200) //gia tri thuc te 24800
		{
			if((adc_tb1<170)&&(adc_tb1<150)) break;// LAZE CHUA DC
			if(!X) break;
			MAIN_CONTROL(0,1800,80,0.1,0);
			vTaskDelay(1);
		}
		MAIN_CONTROL(0,1800,0,0.1,0);
		MAIN_CONTROL(0,0,0,0.1,0);
		//-----------chay lui cho ve khi thay cot 2-------------
		while(IMU>-210) //gia tri thuc te -235
		{
			if(!X) break;
			MAIN_CONTROL(0,-40000,60,0.1,0);
			vTaskDelay(1);
		}		
		MAIN_CONTROL(0,0,0,0.1,0);
		// XOAY DA		
		chan_da_kickball_nghi();
		dat_kickball();
		chu_trinh_da_kickball();
		chan_da_kickball_nghi();
		lay_lai_de();	
		while(IMU<-60) //gia tri thuc te 2
		{
			if(!X) break;
			MAIN_CONTROL(0,40000,60,0.1,0);
			vTaskDelay(1);
		}		
		MAIN_CONTROL(0,0,0,0.1,0);	
		vTaskDelay(2000);
		RESET_ENCODER(1);
		RESET_ENCODER(2);
		// XOAY XOAY VE
		while(abs(READ_ENCODER(1))<21700) //gia tri thuc te 23500
		{
			//CHO GAN CAM BIEN
			if(!X) break;
			MAIN_CONTROL(0,-60,80,0.1,0);
			vTaskDelay(1);
		}
		// CHAY TOI COT 2 RE TRAI
		reset_ecoder1=1;
		while(abs(READ_ENCODER(2))<23200) //gia tri thuc te 24800
		{
			if(!X) break;
			MAIN_CONTROL(0,-900,80,0.1,0);
			vTaskDelay(1);
		}
		//CHAY SANG TRAI VE VUNG LAY TRY
		while(abs(READ_ENCODER(1))<20000) //gia tri thuc te 21500
		{
			if(!X) break;
			MAIN_CONTROL(0,1800,80,0.1,0);
			vTaskDelay(1);
		}
		//chay lui lech huong -1650
		while(abs(READ_ENCODER(1))<40000) //gia tri thuc te 42000
		{
			if(!cb_sau) chong_nhieu++;
			else chong_nhieu=0;
			if(chong_nhieu>10||!X) break;
			MAIN_CONTROL(0,1650,80,0.1,0);
			vTaskDelay(1);
		}
		MAIN_CONTROL(0,1800,20,0.1,0);
		vTaskDelay(3000);
		MAIN_CONTROL(0,0,0,0.1,0);	
		vTaskDelay(1000);
		RESET_ENCODER(1);
		RESET_ENCODER(2);
		lay_kickball();
		//lay kich 4
	}
void da_kick_4_do()
{
      //-----------chay xiem 54 do-------------
		while(abs(READ_ENCODER(1))<2000) //gia tri thuc te 3750
		{
			if(!X) break;
			MAIN_CONTROL(0,-450,80,0.1,0);
			vTaskDelay(1);
		}
		reset_ecoder2=1;
      //-----------chay xiem 54 do-------------
		while(abs(READ_ENCODER(1))<39300) //gia tri thuc te 41000 e2 2900
		{
			if((adc_tb1>430)&&(adc_tb1<450)) break;
			if(!X) break;
			MAIN_CONTROL(0,0,80,0.1,0);
			vTaskDelay(1);
		}
		//chay toi 
		reset_ecoder1=1;
		while(abs(READ_ENCODER(2))<21200) //gia tri thuc te 24800
		{
			if(!X) break;
			MAIN_CONTROL(0,900,80,0.1,0);
			vTaskDelay(1);
		}
		//chay qua vung kick zone
		while(abs(READ_ENCODER(1))<23200) //gia tri thuc te 24800
		{
			if((adc_tb1<170)&&(adc_tb1<150)) break;// LAZE CHUA DC
			if(!X) break;
			MAIN_CONTROL(0,1800,80,0.1,0);
			vTaskDelay(1);
		}
		MAIN_CONTROL(0,1800,0,0.1,0);
		MAIN_CONTROL(0,0,0,0.1,0);
		//-----------chay lui cho ve khi thay cot 2-------------
		while(IMU>-210) //gia tri thuc te -235
		{
			if(!X) break;
			MAIN_CONTROL(0,-40000,60,0.1,0);
			vTaskDelay(1);
		}		
		MAIN_CONTROL(0,0,0,0.1,0);
		// XOAY DA		
		chan_da_kickball_nghi();
		dat_kickball();
		chu_trinh_da_kickball();
		chan_da_kickball_nghi();
		lay_lai_de();	
		while(IMU<-60) //gia tri thuc te 2
		{
			if(!X) break;
			MAIN_CONTROL(0,40000,60,0.1,0);
			vTaskDelay(1);
		}		
		MAIN_CONTROL(0,0,0,0.1,0);	
		vTaskDelay(2000);
		RESET_ENCODER(1);
		RESET_ENCODER(2);
		// XOAY XOAY VE
		while(abs(READ_ENCODER(1))<21700) //gia tri thuc te 23500
		{
			//CHO GAN CAM BIEN
			if(!X) break;
			MAIN_CONTROL(0,-60,80,0.1,0);
			vTaskDelay(1);
		}
		// CHAY TOI COT 2 RE TRAI
		reset_ecoder1=1;
		while(abs(READ_ENCODER(2))<23200) //gia tri thuc te 24800
		{
			if(!X) break;
			MAIN_CONTROL(0,-900,80,0.1,0);
			vTaskDelay(1);
		}
		//CHAY SANG TRAI VE VUNG LAY TRY
		while(abs(READ_ENCODER(1))<20000) //gia tri thuc te 21500
		{
			if(!X) break;
			MAIN_CONTROL(0,1800,80,0.1,0);
			vTaskDelay(1);
		}
		//chay lui lech huong -1650
		while(abs(READ_ENCODER(1))<40000) //gia tri thuc te 42000
		{
			if(!cb_sau) chong_nhieu++;
			else chong_nhieu=0;
			if(chong_nhieu>10||!X) break;
			MAIN_CONTROL(0,1650,80,0.1,0);
			vTaskDelay(1);
		}
		MAIN_CONTROL(0,1800,20,0.1,0);
		vTaskDelay(3000);
		MAIN_CONTROL(0,0,0,0.1,0);	
		vTaskDelay(1000);
		RESET_ENCODER(1);
		RESET_ENCODER(2);
		//ve home
	}
void lay_try_5_da_kick_5_do()
{
		while(abs(READ_ENCODER(2))<13500) //gia tri thuc te 15400
		{
			if(!cb_tryball) chong_nhieu++;
			else chong_nhieu=0;
			if(chong_nhieu>10||!X) break;
			MAIN_CONTROL(0,-520,80,0.1,0);
			vTaskDelay(1);
		}
		//lay try  vi tri 5
		MAIN_CONTROL(0,0,0,0.1,0);
		while(TAM_GIAC){vTaskDelay(1);}
		vTaskDelay(2000);
		RESET_ENCODER(1);
		RESET_ENCODER(2);
		lay_tryball_san_do();
			while(abs(READ_ENCODER(2))<3000) //gia tri thuc te 15400
		{
			dap_try_san_do=1;
			if(!cb_trai) chong_nhieu++;
			else chong_nhieu=0;
			if(chong_nhieu>10||!X) break;
			MAIN_CONTROL(0,1290,80,0.1,0);
			vTaskDelay(1);
		}
		while(abs(READ_ENCODER(2))<13000) //gia tri thuc te 15400
		{
			if(!cb_trai) chong_nhieu++;
			else chong_nhieu=0;
			if(chong_nhieu>10||!X) break;
			MAIN_CONTROL(0,1290,80,0.1,0);
			vTaskDelay(1);
		}
		MAIN_CONTROL(0,1300,20,0.1,0);
		vTaskDelay(10000);//delay duoc 100 xung
		MAIN_CONTROL(0,1300,0,0.1,0);
		vTaskDelay(2000);
		RESET_ENCODER(1);
		RESET_ENCODER(2);
		while(abs(READ_ENCODER(1))<3000) //gia tri thuc te 15054
		{
			if(!X) break;
			MAIN_CONTROL(0,0,40,0.1,0);
			vTaskDelay(1);
		}
		MAIN_CONTROL(0,1800,0,0.1,0);
		vTaskDelay(2000);
		xilanh_nha_tryball_do;
		while(TAM_GIAC){vTaskDelay(1);}
		xilanh_ha_tryball;
		vTaskDelay(2000);
		RESET_ENCODER(2);
		RESET_ENCODER(1);
		truyen_tryball_san_do();
		//TRUYEN TRY 5---- lay kick 5i-------------
		while(abs(READ_ENCODER(1))<3000) //gia tri thuc te 15054
		{
			if(!cb_sau) chong_nhieu++;
			else chong_nhieu=0;
			if(chong_nhieu>10||!X) break;
			MAIN_CONTROL(0,1800,40,0.1,0);
			vTaskDelay(1);
		}
		MAIN_CONTROL(0,1800,20,0.1,0);
		vTaskDelay(2000);//delay duoc 100 xung
		MAIN_CONTROL(0,1800,0,0.1,0);
		vTaskDelay(2000);
		vTaskDelay(2000);
		RESET_ENCODER(2);
		RESET_ENCODER(1);
		lay_kickball();
		//lay kick 1-------------
  //-----------chay xiem 54 do-------------
		while(abs(READ_ENCODER(1))<2000) //gia tri thuc te 3750
		{
			if(!X) break;
			MAIN_CONTROL(0,-450,80,0.1,0);
			vTaskDelay(1);
		}
		reset_ecoder2=1;
      //-----------chay xiem 54 do-------------
		while(abs(READ_ENCODER(1))<39300) //gia tri thuc te 41000 e2 2900
		{
			if((adc_tb1>430)&&(adc_tb1<450)) break;
			if(!X) break;
			MAIN_CONTROL(0,0,80,0.1,0);
			vTaskDelay(1);
		}
		//chay toi 
		reset_ecoder1=1;
		while(abs(READ_ENCODER(2))<21200) //gia tri thuc te 24800
		{
			if(!X) break;
			MAIN_CONTROL(0,900,80,0.1,0);
			vTaskDelay(1);
		}
		//chay qua vung kick zone
		while(abs(READ_ENCODER(1))<23200) //gia tri thuc te 24800
		{
			if((adc_tb1<170)&&(adc_tb1<150)) break;// LAZE CHUA DC
			if(!X) break;
			MAIN_CONTROL(0,1800,80,0.1,0);
			vTaskDelay(1);
		}
		MAIN_CONTROL(0,1800,0,0.1,0);
		MAIN_CONTROL(0,0,0,0.1,0);
		//-----------chay lui cho ve khi thay cot 2-------------
		while(IMU>-210) //gia tri thuc te -235
		{
			if(!X) break;
			MAIN_CONTROL(0,-40000,60,0.1,0);
			vTaskDelay(1);
		}		
		MAIN_CONTROL(0,0,0,0.1,0);
		// XOAY DA		
		chan_da_kickball_nghi();
		dat_kickball();
		chu_trinh_da_kickball();
		chan_da_kickball_nghi();
		lay_lai_de();	
		while(IMU<-60) //gia tri thuc te 2
		{
			if(!X) break;
			MAIN_CONTROL(0,40000,60,0.1,0);
			vTaskDelay(1);
		}		
		MAIN_CONTROL(0,0,0,0.1,0);	
		vTaskDelay(2000);
		RESET_ENCODER(1);
		RESET_ENCODER(2);
		// XOAY XOAY VE
		while(abs(READ_ENCODER(1))<21700) //gia tri thuc te 23500
		{
			//CHO GAN CAM BIEN
			if(!X) break;
			MAIN_CONTROL(0,-60,80,0.1,0);
			vTaskDelay(1);
		}
		// CHAY TOI COT 2 RE TRAI
		reset_ecoder1=1;
		while(abs(READ_ENCODER(2))<23200) //gia tri thuc te 24800
		{
			if(!X) break;
			MAIN_CONTROL(0,-900,80,0.1,0);
			vTaskDelay(1);
		}
		//CHAY SANG TRAI VE VUNG LAY TRY
		while(abs(READ_ENCODER(1))<20000) //gia tri thuc te 21500
		{
			if(!X) break;
			MAIN_CONTROL(0,1800,80,0.1,0);
			vTaskDelay(1);
		}
		//chay lui lech huong -1650
		while(abs(READ_ENCODER(1))<40000) //gia tri thuc te 42000
		{
			if(!cb_sau) chong_nhieu++;
			else chong_nhieu=0;
			if(chong_nhieu>10||!X) break;
			MAIN_CONTROL(0,1650,80,0.1,0);
			vTaskDelay(1);
		}
		MAIN_CONTROL(0,1800,20,0.1,0);
		vTaskDelay(3000);
		MAIN_CONTROL(0,0,0,0.1,0);	
		vTaskDelay(1000);
		RESET_ENCODER(1);
		RESET_ENCODER(2);
		//ve home
	}